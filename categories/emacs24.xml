<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>Milosophical Me (emacs24)</title><link>http://milosophical.me/</link><description></description><language>en</language><lastBuildDate>Fri, 23 Jan 2015 22:36:09 GMT</lastBuildDate><generator>http://getnikola.com/</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Install Emacs24 Snapshot on Debian, Ubuntu and Windows 7</title><link>http://milosophical.me/blog/2012/02/13/install-emacs24-snapshot-on-debian-ubuntu-and-windows-7.html</link><dc:creator>Mike Lockhart</dc:creator><description>&lt;p&gt;I just can't wait for &lt;a title="An overview of what's coming in Emacs 24" href="http://www.masteringemacs.org/articles/2011/12/06/what-is-new-in-emacs-24-part-1/"&gt;Emacs24&lt;/a&gt; to be released! (I know, it's in beta and it'll be officially released Real Soon Now, but my catalyst is Technomancy's ESK2 which is such an improvement over ESK1, and it needs Emacs 24).


In &lt;a title="Build/Install emacs 24 on debian" href="http://sinewalker.wordpress.com/2012/01/15/build-and-install-emacs24-on-debian-squeeze/"&gt;my last post&lt;/a&gt; I had steps to build emacs from source-code. This is worth following for hacker cred, but it soon gets tedious if you have a lot of systems to put emacs on. As pointed out by a few readers, there are some snapshot builds available for different platforms. This post lists steps for installing the pre-built snapshots, for the three operating systems that I use.



&lt;!--more--&gt;



&lt;/p&gt;&lt;h3&gt;Debian&lt;/h3&gt;

As pointed out earlier, you can get &lt;a href="http://emacs.naquadah.org/"&gt;emacs-snapshot builds for Debian&lt;/a&gt; from Julien Danjou (of &lt;a href="http://awesome.naquadah.org"&gt;awesome&lt;/a&gt; fame). That page does have instructions, but I'll list them here anyway:



&lt;ol&gt;
 &lt;li&gt;Import the key (this is a one-line pipeline, broken for display only):
&lt;pre&gt;

$ &lt;strong&gt;wget -q -O - http://emacs.naquadah.org/key.gpg 

| sudo apt-key add -&lt;/strong&gt;



&lt;/pre&gt;
 &lt;/li&gt;
 &lt;li&gt;Add the snapshot repository to your &lt;strong&gt;&lt;code&gt;/etc/apt/sources.list&lt;/code&gt;&lt;/strong&gt; (by hand). Here's Julien's "stable" snapshot:
&lt;pre&gt;

deb http://emacs.naquadah.org/ stable/

deb-src http://emacs.naquadah.org/ stable/



&lt;/pre&gt;
 &lt;/li&gt;
 &lt;li&gt;Update your package database
&lt;pre&gt;

$ &lt;strong&gt;sudo aptitude update&lt;/strong&gt;



&lt;/pre&gt;
 &lt;/li&gt;
 &lt;li&gt;Install emacs-snapshot
&lt;pre&gt;

$ &lt;strong&gt;sudo aptitude install &lt;code&gt;emacs-snapshot&lt;/code&gt;&lt;/strong&gt;



&lt;/pre&gt;
 &lt;/li&gt;
&lt;/ol&gt;



&lt;h3&gt;Ubuntu&lt;/h3&gt;

I'm running Ubuntu 11.10 in a VirtualBox on work's Windows 7 machine. As mentioned at Julien Danjou's page,

Damien Cassou makes a version of the same emacs-snapshot for Ubuntu, which is hosted &lt;a title="emacs-snapshot PPA for ubuntu" href="https://launchpad.net/~cassou/+archive/emacs"&gt;at Launchpad&lt;/a&gt;. You add it and install simalarly:



&lt;ol&gt;
 &lt;li&gt;Add the PPA (Personal Package Archive). This also imports the key:
&lt;pre&gt;

$ &lt;strong&gt;sudo add-apt-repository ppa:cassou/emacs&lt;/strong&gt;



&lt;/pre&gt;
 &lt;/li&gt;
 &lt;li&gt;Update your package database
&lt;pre&gt;

$ &lt;strong&gt;sudo apt-get update&lt;/strong&gt;



&lt;/pre&gt;
 &lt;/li&gt;
 &lt;li&gt;Install emacs-snapshot
&lt;pre&gt;

$ &lt;strong&gt;sudo apt-get install emacs-snapshot&lt;/strong&gt;



&lt;/pre&gt;
 &lt;/li&gt;
&lt;/ol&gt;



&lt;h3&gt;Windows&lt;/h3&gt;

It's handy to have a native Windows emacs as well as the one in the VM. Of course being Windows, it's more complicated to install and configure... This has been tested on Windows 7:



&lt;ol&gt;
 &lt;li&gt;Download the latest PKZIP-ed binary from &lt;a href="http://code.google.com/p/emacs-for-windows/updates/list"&gt;Google Code&lt;/a&gt;&lt;/li&gt;
 &lt;li&gt;Unpack the ZIP (Windows Explorer &lt;em&gt;can&lt;/em&gt; open ZIP files -- but &lt;a href="http://www.7-zip.org"&gt;7zip&lt;/a&gt; is mich nicer). I like to unpack emacs in &lt;code&gt;&lt;strong&gt;c:\Applications\emacs&lt;/strong&gt;&lt;/code&gt;&lt;em&gt;&amp;lt;version&amp;gt;&lt;/em&gt; so I can maintain several different versions at once&lt;/li&gt;
 &lt;li&gt;(&lt;em&gt;optional&lt;/em&gt;) Put a windows symlink to the version of emacs you want to use.  This assumes your C: drive is formatted with NTFS, which on most Windows systems it is. The symlink can then be used for your %PATH% later and you won't have to edit the variable again to change versions, which for some odd reason is a convoluted operation in Windows... Type the following in a &lt;strong&gt;CMD.EXE&lt;/strong&gt; prompt:
&lt;pre&gt;

C:\&amp;gt; &lt;strong&gt;CD C:\Applications&lt;/strong&gt;

C:\Applications\&amp;gt; &lt;strong&gt;MKLINK /D emacs emacs&lt;/strong&gt;&lt;em&gt;&amp;lt;version&amp;gt;&lt;/em&gt;



&lt;/pre&gt;
 &lt;/li&gt;
 &lt;li&gt;Create an &lt;em&gt;Environment Variable&lt;/em&gt; called &lt;code&gt;&lt;strong&gt;%HOME%&lt;/strong&gt;&lt;/code&gt; that refers to your Windows home directory (&lt;code&gt;C:\Users\&lt;/code&gt;&lt;em&gt;&amp;lt;username&amp;gt;&lt;/em&gt;). This is so that you can put your &lt;code&gt;.emacs.d&lt;/code&gt; in your home directory, and Emacs will find it:
 &lt;ol type="a"&gt;
  &lt;li&gt;Open &lt;strong&gt;Windows Explorer&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;Right-click on "&lt;strong&gt;My Computer&lt;/strong&gt;", choose "&lt;strong&gt;Properties&lt;/strong&gt;"&lt;/li&gt;
  &lt;li&gt;Choose "&lt;strong&gt;Advance system settings&lt;/strong&gt;" (Really? what's so advanced about an environment variable?)&lt;/li&gt;
  &lt;li&gt;Make sure the "&lt;strong&gt;Advanced&lt;/strong&gt;" tab of the &lt;strong&gt;System Properties&lt;/strong&gt; dialog is selected, then press the "&lt;strong&gt;Environment Variables...&lt;/strong&gt;" button&lt;/li&gt;
  &lt;li&gt;Press the top "&lt;strong&gt;New...&lt;/strong&gt;" button (to add a personal variable, rather than system variable)&lt;/li&gt;
  &lt;li&gt;in the "&lt;strong&gt;Variable name:&lt;/strong&gt;" field, enter &lt;code&gt;&lt;strong&gt;HOME&lt;/strong&gt;&lt;/code&gt;. In the "&lt;strong&gt;Variable value:&lt;/strong&gt;" field, put &lt;code&gt;&lt;strong&gt;%USERPROFILE%&lt;/strong&gt;&lt;/code&gt;, press "&lt;strong&gt;OK&lt;/strong&gt;" button&lt;/li&gt;
  &lt;li&gt;Press the other "&lt;strong&gt;OK&lt;/strong&gt;" button to dismiss the Environment Varables dialog&lt;/li&gt;
  &lt;li&gt;Press yet another "&lt;strong&gt;OK&lt;/strong&gt;" button to dismiss the System Properties dialog&lt;/li&gt;
 &lt;/ol&gt;
 &lt;/li&gt;
 &lt;li&gt;Put emacs in your &lt;code&gt;&lt;strong&gt;%PATH%&lt;/strong&gt;&lt;/code&gt;. Use the same steps above to edit the Sytem variable PATH and add the path to Emacs (&lt;code&gt;&lt;strong&gt;;C:\Applications\emacs\bin&lt;/strong&gt;&lt;/code&gt; if you put a symlink in step 3)&lt;/li&gt;
&lt;/ol&gt;



&lt;h3&gt;Personal Emacs settings&lt;/h3&gt;

You can now put your emacs settings into &lt;code&gt;~/.emacs.d&lt;/code&gt; (that's &lt;code&gt;%HOME%\.emacs.d&lt;/code&gt; for Windows). I highly recommend &lt;a title="Technomany's home" href="http://technomancy.us/"&gt;Technomancy&lt;/a&gt;'s &lt;a title="GitHub ESK2 branch" href="https://github.com/technomancy/emacs-starter-kit"&gt;Emacs Starter Kit&lt;/a&gt; (version 2).



My own&lt;code&gt; ~/.emacs.d/init.el&lt;/code&gt; is set up to bootstrap ESK2 and a few favourite packages, just as Technomancy describes. 



One package I'd like to mention here is "&lt;a href="http://xahlee.org/emacs/ergonomic_emacs_keybinding.html"&gt;ergoemacs-keybindings&lt;/a&gt;" which gives more modern/ergonomic key bindings to emacs. Together with cua-mode, it makes Emacs behave very nicely. Currently though I notice there's a problem loading the package (maybe it's autoloads aren't right yet?) So I have to hack it as described in the package's README, (with a hard-coded path to the package directory, that'll break if I update it in the future because it has the package version) but I hope to fix it and send a patch for Xah Real Soon Now...  In the mean-time, here's a snippet:




~~~~~~~~~~~~{.clojure}


;;;; egroemacs keybindings

(setenv "ERGOEMACS_KEYBOARD_LAYOUT" "dv") ; US Dvorak (Ergonomic)



;; FIX: for some reason the library isn't loading from the package? 

;;      Have to put full path to the load file, which is brittle

(when (package-installed-p 'ergoemacs-keybindings)
  (load-file "~/.emacs.d/elpa/ergoemacs-keybindings-5.3.9/ergoemacs-keybindings.el")
  (ergoemacs-mode 1)
  (cua-mode 1))

~~~~~~~~~~~~




(btw, the lisp-ish CSH above is done by using WordPress' sourcecode block and specifying "clojure" for the language)</description><category>debian</category><category>emacs</category><category>emacs24</category><category>hacking</category><category>tips</category><category>ubuntu</category><category>windows</category><guid>http://milosophical.me/blog/2012/02/13/install-emacs24-snapshot-on-debian-ubuntu-and-windows-7.html</guid><pubDate>Mon, 13 Feb 2012 00:15:29 GMT</pubDate></item></channel></rss>