<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Initial setup for Minecraft on a PC">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Hacking Minecraft with Python | Milosophical Me</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#e37f2a;">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://milosophical.me/blog/2015/minecraft-python-0.html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Michael Lockhart">
<link rel="prev" href="what-are-those-j-and-l-characters-in-email.html" title="What are those J and L characters in email?" type="text/html">
<link rel="next" href="4-bit-rules-of-computing-part-1.html" title="4-bit Rules of Computing, Part 1" type="text/html">
<meta property="og:site_name" content="Milosophical Me">
<meta property="og:title" content="Hacking Minecraft with Python">
<meta property="og:url" content="http://milosophical.me/blog/2015/minecraft-python-0.html">
<meta property="og:description" content="Initial setup for Minecraft on a PC">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2015-06-01T14:07:34+10:00">
<meta property="article:tag" content="canarymod">
<meta property="article:tag" content="getkidscoding">
<meta property="article:tag" content="hacking">
<meta property="article:tag" content="minecraft">
<meta property="article:tag" content="python">
<meta property="article:tag" content="RaspberryJuice">
<meta property="article:tag" content="RaspberryPi">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://milosophical.me/">

                <span id="blog-title">Milosophical Me</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" role="navigation" aria-expanded="false">
            <ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Navigate <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../index.html">Blog</a>
                    </li>
<li>
<a href="../../archive/archive.html">Archive</a>
                    </li>
<li>
<a href="../../tags/index.html">Tags</a>
                    </li>
<li>
<a href="../../pg/index.html">Codex</a>
                    </li>
<li>
<a href="../../pixels/index.html">Pixels</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Social <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://gist.github.com/sinewalker">Gists - Microblog</a>
                    </li>
<li>
<a href="https://www.twitter.com/milo_hax">Tweets - Nanoblog</a>
                    </li>
<li>
<a href="https://www.facebook.com/sinewalker">Facebook - Necessary Evil</a>
                    </li>
<li>
<a href="mailto:sinewalker@gmail.com">Email - So 20th Century</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://github.com/sinewalker">GitHub</a>
                    </li>
<li>
<a href="https://gist.github.com/sinewalker">Gists</a>
                    </li>
<li>
<a href="https://bitbucket.com/sinewalker">Bitbucket</a>
                    </li>
<li>
<a href="https://codepen.io/sinewalker/">Codepen</a>
                    </li>
<li class="active">
<a href="#"> <span class="sr-only">(active)</span></a>
                    </li>
<li>
<a href="https://gitlab.com/sinewalker">GitLab</a>
                    </li>
<li>
<a href="https://sourceforge.net/u/sinewalker/profile/">SourceForge</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Jargon <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../jargon/index.html">Main page</a>
                    </li>
<li>
<a href="../../jargon/html/index.html">Table of Content</a>
                    </li>
<li>
<a href="../../jargon/html/lexicon.html">Lexicon</a>
                    </li>
<li>
<a href="../../jargon/html/go01.html">Glossary</a>
                    </li>
<li>
<a href="../../jargon/html/appendixa.html">Folklore</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://about.me/mikelockhart">About.me</a>
                    </li>
<li>
<a href="https://milohax.net">Milohax.net</a>
                    </li>
<li>
<a href="https://www.linkedin.com/in/mikelockhart">LinkedIn</a>
                    </li>
<li>
<a href="http://stackoverflow.com/users/776953/mike">Stack Overflow</a>
                    </li>
<li class="active">
<a href="#"> <span class="sr-only">(active)</span></a>
                    </li>
<li>
<a href="../../pg/colophon.html">About this site</a>
                    </li>
<li>
<a href="../../rss.xml">Rich Site Summary (RSS)</a>
                    </li>
<li>
<a href="https://github.com/sinewalker/sinewalker.github.io/wiki">Meta-Wiki</a>
                    </li>
<li>
<a href="https://github.com/sinewalker/sinewalker.github.io/issues">Issues log</a>
            </li>
</ul>
</li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form navbar-right" role="search">
<input type="hidden" name="sites" value="http://milosophical.me/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="form-control"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="minecraft-python-0.ipynb" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Hacking Minecraft with Python</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    <a href="../../authors/michael-lockhart.html">Michael Lockhart</a>
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2015-06-01T14:07:34+10:00" itemprop="datePublished" title="2015-06-01 14:07">2015-06-01 14:07</time></a></p>
            
        <p class="sourceline"><a href="minecraft-python-0.ipynb" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>I'm having a play with <strong>Minecraft</strong> and <strong>Python</strong>, using the <strong><em>mcpipy</em></strong> library, a Minecraft server called <strong>CannaryMod</strong>, and a plugin-in for that called <strong>RaspberryJuice</strong>.</p>
<p>You can do all this out-of-the-box with Raspbian on a RaspberryPi, but I wanted to set up my home computers also.  Here's a quick run-down of the steps I followed.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Install-the-software">Install the software<a class="anchor-link" href="minecraft-python-0.html#Install-the-software">¶</a>
</h3>
<p>First you need a copy of the <a href="https://minecraft.net">Minecraft</a>
game. You can <a href="https://minecraft.net/download">get it for free</a>, but you will need to license a Player with Mojang, which is (US)$30 per player.  I share one with our eldest son.  Our player name is "devilcraft74".</p>
<p>You'll also need <a href="http://canarymod.net/">CanaryMod</a> and a plug-in for it called <a href="https://github.com/martinohanlon/canaryraspberryjuice">RaspberryJuice</a>. The creator of RaspberryJuice, Martin O'Hanlan, has an <a href="http://www.stuffaboutcode.com">excellent blog</a>, and his <a href="http://www.stuffaboutcode.com/2014/10/minecraft-raspberryjuice-and-canarymod.html">instructions for installing all of this and setting it up</a> are clear and easy to follow.  Start there.</p>
<p>Finally, you'll want a copy of <a href="https://github.com/brooksc/mcpipy">mcpipy</a> which is the Python bindings and some sample code for
<a href="http://pi.minecraft.net/">Minecraft Pi edition</a>. For older hackers, this is where the <em>real</em> fun begins.</p>
<h3 id="Configure-your-World">Configure your World<a class="anchor-link" href="minecraft-python-0.html#Configure-your-World">¶</a>
</h3>
<p>CanaryMod's main purpose seems to be as a server for running Minecraft MMOGs. It has a <a href="http://canarymod.net/books/canarymod-admin-guide/permissions-and-groups">sophisticated Permissions system</a> and <a href="http://canarymod.net/books/canarymod-admin-guide/setting-your-server">modular configuration files</a>.  After you unpack it and accept the EULA (by modifying <code>eula.txt</code>), you will have a tightly locked-down Minecraft server that needs some changes to be useful for hacking with Python.</p>
<p>The documentation is good, so far as it goes, but it seems to still be under construction.  Anyway, the configuration files are well commented, so it's simple to work out what to change just by reading them.</p>
<p>I will configure my world for hacking with Python.  I want to play in Creative Mode (so I can fly, and so that there is no interference with my hacking by the mechanics of the Survival game) and also I want to be able to build with the player as well as through Python.</p>
<p><strong>First, set to Creative mode</strong>. I'm setting the default <code>gamemode</code> for the world from it's configuration file (a file inside the CanaryMod directory called <code>config/worlds/default/default_NORMAL.conf</code>):</p>

<pre><code>gamemode=1</code></pre>
<p>Now, whenever a player joins my server and enters the default world, they will be in Creative mode rather than Survival.</p>
<p><strong>Second, grant permission to build</strong>.  Once the server starts, you can enter this command at the server console (you only need to do it once):</p>

<pre><code>/playermod group set devilcraft74 admins</code></pre>
<p>(substitute your own player name for <em>devilcraft74</em>)</p>
<p>Yep, I am now root in the world.  I realise that there is a much more surgical way to allow players to build in the world:</p>

<pre><code>/groupmod permission add visitors canary.world.build</code></pre>
<p>This adds <code>canary.world.build</code> permission to the <code>visitors</code> group (of which all players are members when they join the server).  But this isn't working for me.  I'm unsure why exactly, and I'm <em>fairly</em> sure I've spelt it right. I can't find what all the default permissions are to check that though (again, documentation seems unfinished). So for now at least, I'll just add my player to the <code>admins</code> group, which I note from the world config file has a <code>path</code> of <code>'*'</code> and I take that to mean "allow All The Things!". For hacking in my own minecraft server, which I don't intend to be a MMOG on the Internet,this is fine.</p>
<h3 id="Connect-and-hack-away!">Connect and hack away!<a class="anchor-link" href="minecraft-python-0.html#Connect-and-hack-away!">¶</a>
</h3>
<p>We're ready to hack Minecraft worlds!  A basic startup sequence is to launch CanaryMod, then start Minecraft and connect to <code>localhost</code> from the <strong>Multiplayer</strong> menu option. I'll assume you know how to play Minecraft enough to look and move around, as well as build stuff and look for Block types in your Inventory….</p>
<p>Once Minecraft's running and connected to your CanaryMod server, then from a Python REPL, this incantation will get Python connected  as well (assuming mcpipy is in your Python library path, or is a subdirectory of the current directory when you run it):</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">mcpi.minecraft</span> <span class="k">as</span> <span class="nn">minecraft</span>
<span class="n">mc</span> <span class="o">=</span> <span class="n">minecraft</span><span class="o">.</span><span class="n">Minecraft</span><span class="o">.</span><span class="n">create</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You will see a message in the CanaryMod console, confirming a new connection has been made:</p>

<pre><code>[13:39:34] [CanaryRaspberryJuicePlugin] [INFO]: Starting input thread
[13:39:34] [CanaryRaspberryJuicePlugin] [INFO]: Starting output thread
[13:39:34] [CanaryRaspberryJuicePlugin] [INFO]: Opened connection to/127.0.0.1:41722.</code></pre>
<p>Were in!</p>
<p>Operations on the Minecraft world are done by sending messages to the <em>Minecraft</em> object, an instance of which we just declared as <code>mc</code>.</p>
<p>Let's try something simple:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tintable_glass</span> <span class="o">=</span> <span class="mi">95</span>
<span class="n">red</span> <span class="o">=</span> <span class="mi">14</span>
<span class="n">blue</span> <span class="o">=</span> <span class="mi">11</span>
<span class="n">mc</span><span class="o">.</span><span class="n">setBlocks</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="n">tintable_glass</span><span class="p">,</span><span class="n">red</span><span class="p">)</span>
<span class="n">mc</span><span class="o">.</span><span class="n">setBlocks</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">16</span><span class="p">,</span> <span class="n">tintable_glass</span><span class="p">,</span><span class="n">blue</span><span class="p">)</span>

<span class="k">for</span> <span class="n">y</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">):</span>
    <span class="n">mc</span><span class="o">.</span><span class="n">setBlocks</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="n">tintable_glass</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This makes a short axis out of glass blocks, starting at the world's Origin, with a red wall 4 blocks high along the <em>X</em> axis (W → E), a blue wall along the <em>Z</em> axis (N → S) , and a 4x4x16 tower of glass <em>up</em> the <em>Y</em> axis. Each layer of the tower is a different colour from 0 (white) to 15 (black).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><img src="../../pixels/minecraft/mcpi-20150531.png"></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Parts of this construction may be below the ground, because when the world is generated it has some topography, but you should be able to dig down to <code>0,0,0</code> and see all the colours of the tower. You can also dig into negative <em>Y</em> space, as well as move in negative <em>X</em> and <em>Z</em> dimensions.</p>
<p>Note that in Minecraft, not all Block types can be tinted using the 8th argument to <code>setBlocks</code> in this fashion, but Block 95 is one type that can be. Wool is another.</p>
<p>There's a list of known Block numbers in the <code>mcpypi</code> library (<code>block.py</code>), but it has gaps, one of them being 95... I found <em>that</em>
number by manually setting a block at 0,0,0 to Red Tinted Glass (from in-game, once my tower was built — using Stone — so that I knew where to find <code>0,0,0</code>), and then learning it's number using:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span> <span class="n">mc</span><span class="o">.</span><span class="n">getBlockWithData</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>Block(95, 0)
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Similarly, I figured out that Red is 14 and Blue is 11 just by looking at my tower of colour and counting up from the bottom.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Time-to-explore">Time to explore<a class="anchor-link" href="minecraft-python-0.html#Time-to-explore">¶</a>
</h3>
<p>So, there you have it. We're all set to go exploring. Have a read of the <a href="http://stuffaboutcode.com">Stuff About Code</a> web site, it's got lots of fun looking stuff, starting with Turtle graphics and leading on to 2D and 3D primitives made from Blocks. Super stuff, I can see my kids are going to be really motivated to learn about Cartesian geometry, trigonometry and some other Math's subjects, and maybe evenprogramming!</p>
<p>Happy Hacking!</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/canarymod.html" rel="tag">canarymod</a></li>
            <li><a class="tag p-category" href="../../tags/getkidscoding.html" rel="tag">getkidscoding</a></li>
            <li><a class="tag p-category" href="../../tags/hacking.html" rel="tag">hacking</a></li>
            <li><a class="tag p-category" href="../../tags/minecraft.html" rel="tag">minecraft</a></li>
            <li><a class="tag p-category" href="../../tags/python.html" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../tags/raspberryjuice.html" rel="tag">RaspberryJuice</a></li>
            <li><a class="tag p-category" href="../../tags/raspberrypi.html" rel="tag">RaspberryPi</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="what-are-those-j-and-l-characters-in-email.html" rel="prev" title="What are those J and L characters in email?">Previous post</a>
            </li>
            <li class="next">
                <a href="4-bit-rules-of-computing-part-1.html" rel="next" title="4-bit Rules of Computing, Part 1">Next post</a>
            </li>
        </ul></nav></aside><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article>
</div>
        <!--End of body content-->

        <footer id="footer"><hr>Contents Copyright © 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a>
 2005 — 2020         <a href="mailto:sinewalker@gmail.com">Michael Lockhart</a>. Powered by <a href="https://getnikola.com" rel="nofollow"><img src="../../img/nikola.png" alt="Nikola"></a>, <a href="https://github.com/syl20bnr/spacemacs"><img src="https://cdn.rawgit.com/syl20bnr/spacemacs/442d025779da2f62fc86c2082703697714db6514/assets/spacemacs-badge.svg" alt="built with Spacemacs"></a>

            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
