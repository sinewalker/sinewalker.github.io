<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Mike's 4-bit rules explained, part 3: doc-comments">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>4-bit Rules of Computing, Part 3 | Milosophical Me</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#e37f2a;">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://milosophical.me/blog/2018/4-bits-part3.html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Michael Lockhart">
<link rel="prev" href="minecraft-python-3.html" title="Exploring Minecraft code in Jupyter" type="text/html">
<link rel="next" href="learning-git-workflow-0.html" title="Learning DVCS Workflow - 0" type="text/html">
<meta property="og:site_name" content="Milosophical Me">
<meta property="og:title" content="4-bit Rules of Computing, Part 3">
<meta property="og:url" content="http://milosophical.me/blog/2018/4-bits-part3.html">
<meta property="og:description" content="Mike's 4-bit rules explained, part 3: doc-comments">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-02-28T07:44:51+11:00">
<meta property="article:tag" content="4-bit-rules">
<meta property="article:tag" content="code">
<meta property="article:tag" content="comments">
<meta property="article:tag" content="literate">
<meta property="article:tag" content="tip">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://milosophical.me/">

                <span id="blog-title">Milosophical Me</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../index.html">Blog</a>
                </li>
<li>
<a href="../../archive/archive.html">Archive</a>
                </li>
<li>
<a href="../../tags/index.html">Tags</a>
                </li>
<li>
<a href="../../pg/index.html">Codex</a>
                </li>
<li>
<a href="../../pixels/index.html">Pixels</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Social <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://plus.google.com/+MichaelLockhart/posts">Microblog</a>
                    </li>
<li>
<a href="https://gist.github.com/sinewalker">Gists - social code</a>
                    </li>
<li>
<a href="https://www.facebook.com/sinewalker">Facebook</a>
                    </li>
<li>
<a href="mailto:sinewalker@gmail.com">Email</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://github.com/sinewalker">GitHub</a>
                    </li>
<li>
<a href="https://gist.github.com/sinewalker">Gists</a>
                    </li>
<li>
<a href="https://bitbucket.com/sinewalker">Bitbucket</a>
                    </li>
<li>
<a href="https://codepen.io/sinewalker/">Codepen</a>
                    </li>
<li class="active">
<a href="#"> <span class="sr-only">(active)</span></a>
                    </li>
<li>
<a href="https://sourceforge.net/u/sinewalker/profile/">SourceForge</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Jargon <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../jargon/index.html">Main page</a>
                    </li>
<li>
<a href="../../jargon/html/index.html">Table of Content</a>
                    </li>
<li>
<a href="../../jargon/html/lexicon.html">Lexicon</a>
                    </li>
<li>
<a href="../../jargon/html/go01.html">Glossary</a>
                    </li>
<li>
<a href="../../jargon/html/appendixa.html">Folklore</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://about.me/mikelockhart">About.me</a>
                    </li>
<li>
<a href="../../pg/colophon.html">About this site</a>
                    </li>
<li>
<a href="https://calendar.google.com/calendar/embed?src=sinewalker@gmail.com&amp;ctz=Australia/Sydney/">My calendar</a>
                    </li>
<li>
<a href="https://www.linkedin.com/in/mikelockhart">LinkedIn</a>
                    </li>
<li>
<a href="http://stackoverflow.com/users/776953/mike">Stack Overflow</a>
            </li>
</ul>
</li>
<li>
<a href="../../rss.xml">RSS</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form navbar-right" role="search">
<input type="hidden" name="sites" value="http://milosophical.me/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="form-control"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="4-bits-part3.ipynb" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">4-bit Rules of Computing, Part 3</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    <a href="../../authors/michael-lockhart.html">Michael Lockhart</a>
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2018-02-28T07:44:51+11:00" itemprop="datePublished" title="2018-02-28 07:44">2018-02-28 07:44</time></a></p>
            
        <p class="sourceline"><a href="4-bits-part3.ipynb" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here is the forth part of my <a href="../../tags/4-bit-rules.html">blog series</a> expanding on my
<a href="../../pg/4-bit-rules.html">4-bit rules of computing</a>.</p>
<blockquote>
<p><a href="../2015/4-bit-rules-of-computing-part-2.html">Previously</a> in <em>Milosophical Me</em>: Mike was reflecting on Comments, both in source code and in social media, and had come to the conclusion that they are to be avoided, that they can be more harmful than helpful, and that source codes (and people) should be allowed to speak for them selves.</p>
</blockquote>
<p>There is an exception to Rule 5 (<em>Rule 0</em> allows for this): <strong>doc-comments</strong>.   In this post I explore what they are, how they differ from regular comments, and how to use them to assist your fellow hackers.</p>
<!-- TEASER_END -->
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h2 id="Rule-6:-Doc-comments-are-a-Force-for-Good">
<strong>Rule 6</strong>: Doc-comments are a Force for Good<a class="anchor-link" href="4-bits-part3.html#Rule-6:-Doc-comments-are-a-Force-for-Good">¶</a>
</h2>
<p>(follows on from Rule 5 <em>Comments considered harmful</em>)</p>
<blockquote>
<p>You are in a maze of twisty little passages, all alike</p>
</blockquote>
<p>Sometimes exploring code is like a text-adventure game.  The modules are like different rooms containing strange objects and it's not immediately clear what you should be doing next, or how to use the objects.</p>
<p>In a text-adventure game, you need to <code>LOOK</code> at your surroundings to get your bearings and see what objects are around; <code>TAKE</code> objects, and even <code>EXAMINE</code> them once they're in your hands to uncover their secrets.  Only then will you discover that the sword you just took has a powerful magical enscryption on it, for instance.</p>
<p>If the code you're exploring has <em>doc-comments</em>, then you can do the same thing: you can <em>look</em> at the module's description and an overview of classes and methods; or get the coding system to <em>describe</em> an object's properties and methods, how they should be called, what behavior to expect.</p>
<p>Most languages that have this facility call it <a href="https://en.wikipedia.org/wiki/Docstring">Docstrings</a>, which is the name LISP gave them, and (I think) where it originated.  I'm calling them "<em>doc-comments</em>" for two reasons:</p>
<ol>
<li>Java doesn't have docstrings, but instead has special <em>documentation comments</em>
</li>
<li>(More important) it balances Rule 5's caution against using comments at all</li>
</ol>
<h3 id="What-is-a-doc-comment?">What is a doc-comment?<a class="anchor-link" href="4-bits-part3.html#What-is-a-doc-comment?">¶</a>
</h3>
<p>Like regular comments, you use these to describe the code in a natural human language, let's say English (<em>Solo sé un poco de Español</em>).  Where doc-comments are different is, they have special features that are designed to be parsed by development tools to assist programmers directly, not just to be read by human eyes and ignored by compilers or interpreters.</p>
<p>Let's see how doc-comments address the problems I outlined with regular comments:</p>
<ol>
<li>
<p><em>Code is the single authoritative source of truth in a program!</em></p>
<p>Doc-comments include supplemental information on the object being documented which, while not needed or used by a compiler or interpreter, are essential for tools that inspect code and help you to write it.</p>
<ul>
<li>Add signposts for code-completion tools</li>
<li>Provide the description text for pop-up tool-tips, or to generate documentation</li>
<li>Specify expected values for parameters, not just the data type</li>
</ul>
</li>
<li>
<p><em>There is no way to ensure that code comments are correct at all
times (they're not always updated with code changes, and they can't
be covered by unit tests)</em></p>
<p>Some doc-comments <em>can include unit test cases</em>, ensuring that they must agree with the code they describe, or else the tests fail. By being in-line with the code they test, this increases the likelihood that both the code and the doc-comment will be <em>updated together</em>, especially if you follow some of the practices of Test-Driven Development.</p>
<p>Other doc-comment systems have a feature similar to Java's <em>decoractors</em> which will automatically build "boilerplate" code such as Object-Oriented "getters" and "setters". All you have to do is decorate the object members that should be accessed in that way. This is in addition to pointing out to any human reader that such a member is meant to be accessed only through it's get/set methods.</p>
</li>
<li>
<p>Comments are written in human language which can be prone to
misinterpretation</p>
<p>This is still true of doc-comments.  Having a structure to the comment may reduce this risk, but not eliminate it.</p>
</li>
<li>
<p>Comments embedded in code <em>can actually be harmful</em> when doing
polyglot meta-programming</p>
<p>Doc-comments are not syntactictly able to be embedded within the code like a regular comment can be (to mark out a suspicious section while debugging). They are usually strings, and have a special location within the code that must be adhered to (usually the beginning of a function or module), otherwise it's not a doc-comment.</p>
</li>
</ol>
<h3 id="How-do-you-use-them">How do you use them<a class="anchor-link" href="4-bits-part3.html#How-do-you-use-them">¶</a>
</h3>
<p>Doc-comments can be used in different ways, depending how the language designers built them.</p>
<h4 id="javadoc:-Inside-out-Litterate-Programming">javadoc: Inside-out Litterate Programming<a class="anchor-link" href="4-bits-part3.html#javadoc:-Inside-out-Litterate-Programming">¶</a>
</h4>
<p>In Java, the doc-comments' main purpose is to be the source-code for API documentation.  The goal is to be able to generate an API reference from the same code that implements the API.  It's mostly successful.  This is not strictly <em>Litterate Programming</em> because it doesn't weave instructive narative with the code, but it does at least formalise the system of commenting that I was taught in high-school:</p>
<div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Returns an Image object that can then be painted on the screen. </span>
<span class="cm"> * The url argument must specify an absolute {@link URL}. The name</span>
<span class="cm"> * argument is a specifier that is relative to the url argument. </span>
<span class="cm"> * &lt;p&gt;</span>
<span class="cm"> * This method always returns immediately, whether or not the </span>
<span class="cm"> * image exists. When this applet attempts to draw the image on</span>
<span class="cm"> * the screen, the data will be loaded. The graphics primitives </span>
<span class="cm"> * that draw the image will incrementally paint on the screen. </span>
<span class="cm"> *</span>
<span class="cm"> * @param  url  an absolute URL giving the base location of the image</span>
<span class="cm"> * @param  name the location of the image, relative to the url argument</span>
<span class="cm"> * @return      the image at the specified URL</span>
<span class="cm"> * @see         Image</span>
<span class="cm"> */</span>
 <span class="kd">public</span> <span class="n">Image</span> <span class="nf">getImage</span><span class="o">(</span><span class="n">URL</span> <span class="n">url</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">getImage</span><span class="o">(</span><span class="k">new</span> <span class="n">URL</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">name</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">MalformedURLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>
 <span class="o">}</span>
</pre></div>
<p>Here, the tags <code>@param</code> and <code>@return</code> are like the old <a href="https://en.wikipedia.org/wiki/Structured_programming">Structured Programming</a>-style <a href="https://en.wikipedia.org/wiki/Predicate_transformer_semantics">"Pre-condition"/"Post-condition"</a> comments that I would put in my Pascal school assignments.</p>
<p>The above code example comes from <a href="http://www.oracle.com/technetwork/java/javase/tech/index-137868.html">Oracle's Javadoc style guide</a>. It also shows an embedded HTML <code>&lt;p&gt;</code> tag which the <code>javadoc</code> tool can use when generating an HTML API document.</p>
<p>I call this <strong>"inside-out" Litterate Programming</strong> because, rather than have an English narative with code dispursed through it like Knuth's <a href="https://en.wikipedia.org/wiki/WEB">WEB</a> system of <em>TeX</em>, or Jupyter Notebooks; <em>javadoc</em> is more about havinging <em>a code library with English dispursed through it</em>. The focus of Litterate Programming is on the <em>humans reading the document</em>, and you "weave" the document to generate the code from it; whereas in javadoc the focus is on the <em>computer as the audience of the code</em>, and you use the <code>javadoc</code> tool to generate the document (so it's like "tangling").</p>
<h4 id="iPython-and-emacs-environments:-explore-the-environment-interactively">iPython and emacs environments: explore the environment interactively<a class="anchor-link" href="4-bits-part3.html#iPython-and-emacs-environments:-explore-the-environment-interactively">¶</a>
</h4>
<p>(These are just examples; there are other systems that do this too, like R and Mathematica. I'm not trying to have an exhaustive comparison here, it's not the point I'm making.)</p>
<p>In Emacs, you can type <code>M-x describe-function</code> (<code>C-h f</code>) and enter the name of a function. You'll get a description like this one for <code>describe-function</code> itself:</p>

<pre><code>describe-function is an interactive autoloaded compiled Lisp function in
‘help-fns.el’.

It is bound to s-SPC h d f, C-h f, &lt;f1&gt; f, &lt;help&gt; f, &lt;menu-bar&gt; &lt;help-menu&gt;
&lt;describe&gt; &lt;describe-function&gt;.

(describe-function FUNCTION)

Display the full documentation of FUNCTION (a symbol).
When called from lisp, FUNCTION may also be a function object.

[back]</code></pre>
<p>There is a lot going on here besides the doc-comment, but those words at the bottom actually do come from the function's code in <code>help-fns.el</code>:</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="nb">defun</span> <span class="nv">describe-function</span> <span class="p">(</span><span class="k">function</span><span class="p">)</span>
  <span class="s">"Display the full documentation of FUNCTION (a symbol).</span>
<span class="s">When called from lisp, FUNCTION may also be a function object."</span>
  <span class="p">(</span><span class="k">interactive</span>
   <span class="p">(</span><span class="k">let*</span> <span class="p">((</span><span class="nv">fn</span> <span class="p">(</span><span class="nv">function-called-at-point</span><span class="p">))</span>
          <span class="p">(</span><span class="nv">enable-recursive-minibuffers</span> <span class="no">t</span><span class="p">)</span>
          <span class="p">(</span><span class="nv">val</span> <span class="p">(</span><span class="nf">completing-read</span>
                <span class="p">(</span><span class="k">if</span> <span class="nv">fn</span>
                    <span class="p">(</span><span class="nf">format</span> <span class="s">"Describe function (default %s): "</span> <span class="nv">fn</span><span class="p">)</span>
                  <span class="s">"Describe function: "</span><span class="p">)</span>
<span class="err">⋮</span>
</pre></div>
<p>I truncated the output here, but <a href="https://github.com/emacs-mirror/emacs/blob/emacs-25/lisp/help-fns.el#L52">the whole function</a> is illustrative because it does <em>also</em> include <em>ordinary comments</em>. Note though that they are exceptional because they describe difficult logic:</p>
<div class="highlight"><pre><span></span><span class="err">⋮</span>
    <span class="p">(</span><span class="k">save-excursion</span>
      <span class="p">(</span><span class="nv">with-help-window</span> <span class="p">(</span><span class="nv">help-buffer</span><span class="p">)</span>
        <span class="p">(</span><span class="nf">prin1</span> <span class="k">function</span><span class="p">)</span>
        <span class="c1">;; Use " is " instead of a colon so that</span>
        <span class="c1">;; it is easier to get out the function name using forward-sexp.</span>
        <span class="p">(</span><span class="nf">princ</span> <span class="s">" is "</span><span class="p">)</span>
<span class="err">⋮</span>
</pre></div>
<p>IPython and Jupyter have an online inspection help system that provides something very similar, also driven by Python's <em>docstrings</em>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Wait,-did-you-say-you-can-test-doc-comments?">Wait, did you say you can test doc-comments?<a class="anchor-link" href="4-bits-part3.html#Wait,-did-you-say-you-can-test-doc-comments?">¶</a>
</h2>
<p>Python's <a href="https://pymotw.com/2/doctest/">doctest</a> module (<em>Python Module of the Month</em>, covers Python2; or see the <a href="https://docs.python.org/3/library/doctest.html#module-doctest">Python 3 documentation</a>) provides a way to include your module's test cases within the code. This is a super facility that is well worth your time exploring.  See my <a href="../../pg/4-bit-rules.html">Rule 7</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Regular-strings-as-doc-comments">Regular strings as doc-comments<a class="anchor-link" href="4-bits-part3.html#Regular-strings-as-doc-comments">¶</a>
</h2>
<p>I have rolled my own doc-comments system in at least one language that doesn't have them:  <strong>Bash</strong>, which is the default Unix shell for GNU systems and many BSD ones also.</p>
<p>It is documented on my <a href="https://github.com/sinewalker/dotfiles/wiki/Self-documenting-functions">dotfiles project wiki on GitHub</a> as well as within <a href="https://github.com/sinewalker/dotfiles/blob/1.0/source/10_meta.sh">the code itself</a>, of course!  Take a look at it.</p>
<p>With this, and provided that the functions include a <code>$FUNCDESC</code> doc-comment that followes a few <a href="https://github.com/sinewalker/dotfiles/wiki/Self-documenting-functions#coding-conventions">simple conventions</a>, you can interactively explore my various esoteric shell functions.</p>
<p>Let's explore the system itself:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Describing-and-Listing-shell-functions">Describing and Listing shell functions<a class="anchor-link" href="4-bits-part3.html#Describing-and-Listing-shell-functions">¶</a>
</h3>
<pre><code>
[mjl@milo:~/hax]
[08:14]$ describe describe
Fn: describe in /Users/mjl/.dotfiles/source/10_meta.sh line 65
    'Describe a function and show where it is defined.
[mjl@milo:~/hax]
[08:14]$</code></pre>
<p>My <a href="https://github.com/sinewalker/dotfiles/blob/1.0/source/10_meta.sh#L65">describe</a> function tells you <em>where a shell function comes from, and a quick summary description from the doc-comment</em>. It's a bit like emacs' <code>describe-function</code>.</p>
<p>What if we want to see all of the doumentation, and the code? Well, we <em>could</em> look in that file, or we can just <code>list</code> the function, as it has been loaded into memory:</p>

<pre><code>
[mjl@milo:~/hax]
[08:14]$ list describe
Fn: describe in /Users/mjl/.dotfiles/source/10_meta.sh line 65
    'Describe a function and show where it is defined.
describe ()
{
    local FUNCDESC='Describe a function and show where it is defined.

Prints information about the specified function including the first line of the
$FUNCDESC declaration from the function definition, and where the function is
defined.

This function requires shopt -s extdebug to show file and line details.';
    if [[ -z "${1}" ]]; then
        usage "${FUNCNAME} &lt;function&gt;" ${FUNCDESC};
        error "Must supply a function to describe.";
        return 1;
    fi;
    local toggled=0;
    shopt extdebug &gt; /dev/null || shopt -s extdebug &amp;&amp; toggled=1;
    declare -F "${1}" | awk '{print "Fn: " $1 " in " $3 " line " $2}';
    type -a "${1}" | awk -F = '/FUNCDESC/{print "    "$2;exit}' | fold -s -w ${COLUMNS};
    [[ $toggled == 1 ]] &amp;&amp; shopt -u extdebug
}
[mjl@milo:~/hax]
[08:14]$</code></pre>
<p>Because the doc-comment is actually stored as an <em>environment variable</em>, it is included in this listing, whereas normal shell comments are not shown by Bash's <code>type</code> builtin function (the comments are ignored when the file is <code>source</code>d).</p>
<p>The <code>describe</code> function above just prints the first line of the code that matches the pattern <code>FUNCDESC</code>. To see the whole function instead, use <a href="https://github.com/sinewalker/dotfiles/blob/1.0/source/10_meta.sh#L90">list</a> like above.  Listing <code>list</code> is left as an exercise for the reader.</p>
<p>The same <code>$FUNCDESC</code> variable is also referenced in the call to my <code>usage</code> function, to show how to use the function when you make an error. Here it is in action:</p>

<pre><code>
[mjl@milo:~]
[09:46]$ describe
Usage: describe &lt;function&gt;
Describe a function and show where it is defined. Prints information about the
specified function including the first line of the $FUNCDESC declaration from
the function definition, and where the function is defined. This function
requires shopt -s extdebug to show file and line details.
Must supply a function to describe.
[mjl@milo:~]
[09:46]$</code></pre>
<h3 id="LOOKing-around">LOOKing around<a class="anchor-link" href="4-bits-part3.html#LOOKing-around">¶</a>
</h3>
<p>You can list <em>all</em> the current Bash functions with <a href="https://github.com/sinewalker/dotfiles/blob/1.0/source/10_meta.sh#L41">functions</a>:</p>

<pre><code>
[mjl@milo:~/hax]
[08:19]$ functions
activate
analyse-web
backout
backup
buz
check-tls
check_help
cleanup
cpmod
⋮</code></pre>
<p>(truncated for brevity — I have 85 shell functions on my Mac, from various locations)</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Use-the-Source,-Luke">
<em>Use the Source, Luke</em><a class="anchor-link" href="4-bits-part3.html#Use-the-Source,-Luke">¶</a>
</h2>
<p>So I hope this illustrates the value of <em>good doc-comments</em>.  With an interactive system that supports them, like Emacs, iPython/Jupyter and my own Bash meta-fuctions, they can be a really great tool that helps coders to explore and experiment with a codebase.</p>
<p>It's just like playng <code>ADVENT</code>, and like the game, good doc-comments foster in me a sense of <em>adventure</em> and <em>exploration</em> which makes coding with strange new codebases something <em>fun</em> instead of a hideous nightmare.</p>
<p>Commenting and documenting your code is traditionally looked at as a tiresome chore that is never complete.  Who knows, with this frame of mind, it might even encourage hackers to write their own doc-comments as a sort-of mini-adventure?</p>
<p><strong><em>This</em></strong> would be a <em>Force for Good</em>.</p>

</div>
</div>
</div>
    </div>
  </div>

    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/4-bit-rules.html" rel="tag">4-bit-rules</a></li>
            <li><a class="tag p-category" href="../../tags/code.html" rel="tag">code</a></li>
            <li><a class="tag p-category" href="../../tags/comments.html" rel="tag">comments</a></li>
            <li><a class="tag p-category" href="../../tags/literate.html" rel="tag">literate</a></li>
            <li><a class="tag p-category" href="../../tags/tip.html" rel="tag">tip</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="minecraft-python-3.html" rel="prev" title="Exploring Minecraft code in Jupyter">Previous post</a>
            </li>
            <li class="next">
                <a href="learning-git-workflow-0.html" rel="next" title="Learning DVCS Workflow - 0">Next post</a>
            </li>
        </ul></nav></aside><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});
        </script></article>
</div>
        <!--End of body content-->

        <footer id="footer"><hr>Contents Copyright © 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a>
 2005 — 2018         <a href="mailto:sinewalker@gmail.com">Michael Lockhart</a>. Powered by <a href="https://getnikola.com" rel="nofollow"><img src="../../img/nikola.png" alt="Nikola"></a>, <a href="https://github.com/syl20bnr/spacemacs"><img src="https://cdn.rawgit.com/syl20bnr/spacemacs/442d025779da2f62fc86c2082703697714db6514/assets/spacemacs-badge.svg" alt="built with Spacemacs"></a>

            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-65364237-1', 'auto');  ga('send', 'pageview');</script>
</body>
</html>
