<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>OpenSSH slow logins and DNS | Milosophical Me</title>

                <link href="../../../../assets/css/bitter.css" rel="stylesheet" type="text/css">
        <link href="../../../../assets/css/main.css" rel="stylesheet" type="text/css">
        <link href="../../../../assets/css/rst.css" rel="stylesheet" type="text/css">
        <link href="../../../../assets/css/code.css" rel="stylesheet" type="text/css">
        <link href="../../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
        <link href="../../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">

                <link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">

      <link rel="canonical" href="http://milosophical.me/blog/2010/04/07/openssh-slow-logins-and-dns.html">



    
        <!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->

    

    
    <meta name="author" content="Mike Lockhart">
        <meta property="og:site_name" content="Milosophical Me">
    <meta property="og:title" content="OpenSSH slow logins and DNS">
    <meta property="og:url" content="http://milosophical.me/blog/2010/04/07/openssh-slow-logins-and-dns.html">
    <meta property="og:description" content="There is a feature of OpenSSH, enabled by default, that causes the ssh daemon to do a name lookup for the client and confirm that it matches its IP address. This is supposed to check against some sort">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2010-04-07T15:56:25+10:00">
           <meta property="article:tag" content="hacking">
           <meta property="article:tag" content="openssh">
           <meta property="article:tag" content="ssh">
           <meta property="article:tag" content="tip">

    
    

</head>
<body>
    <section class="social">
        <ul>
                    <li><a href="../../../../index.html" title="Home"><i class="icon-compass"></i></a></li>
            <li><a href="../../../../archive/archive.html" title="Archive"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="../../../../tags/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="../../../../pg/index.html" title="Codex"><i class="icon-book"></i></a></li>
            <li><a href="../../../../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="https://plus.google.com/+MichaelLockhart/posts" title="Microblog"><i class="icon-google-plus"></i></a></li>
            <li><a href="https://www.linkedin.com/in/mikelockhart" title="My LinkedIn profile"><i class="icon-linkedin"></i></a></li>
            <li><a href="https://bitbucket.com/sinewalker" title="My Bitbucket"><i class="icon-bitbucket"></i></a></li>
            <li><a href="https://github.com/sinewalker" title="My Github"><i class="icon-github"></i></a></li>
            <li><a href="http://stackoverflow.com/users/776953/mike" title="Stack Overflow"><i class="icon-stackexchange"></i></a></li>

        </ul>
    </section>
    <section class="page-content">
        <div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">OpenSSH slow logins and DNS</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2010-04-07T15:56:25+10:00">2010-04-07 15:56</time>
            
                      |  
        <a href="openssh-slow-logins-and-dns.wp" id="sourcelink">Source</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../../../../tags/hacking.html" rel="tag">hacking</a></li>
           <li><a class="tag p-category" href="../../../../tags/openssh.html" rel="tag">openssh</a></li>
           <li><a class="tag p-category" href="../../../../tags/ssh.html" rel="tag">ssh</a></li>
           <li><a class="tag p-category" href="../../../../tags/tip.html" rel="tag">tip</a></li>
        </ul>
        </div>

        </div>
        <div class="body">
            <p>There is a feature of OpenSSH, enabled by default, that causes the ssh daemon to do a name lookup for the client and confirm that it matches its IP address. This is supposed to check against some sort of IP spoof during SSH login attacks.  However on my local network which lacks a DNS, it results in lengthy delays during logins.
</p>

<!-- TEASER_END -->
<br>
<p>I found good explanations and how to fix this in the <a title="OpenSUSE FAQ 3.3: ssh(1) takes a long time to connect or log in" href="http://www.openssh.com/faq.html#3.3">OpenSSH FAQ</a> and also on the<a title="SSH Login slow - NOVELL FORUMS" href="http://forums.novell.com/novell-product-support-forums/suse-linux-enterprise-server-sles/sles-configure-administer/340097-sles9-ssh-login-slow.html"> SUSE Linux Forums</a> and a <a title="Libel: UseDNS resolution and OpenSSH" href="http://ayaz.wordpress.com/2008/02/03/usedns-resolution-and-openssh/">couple</a> of <a title="SuSE Linux slow logins over SSH" href="http://www.carlosvazquez.org/Blog/index.cfm?blog_id=72">blogs</a>.  This issue also comes up as at least one <a title='Ubuntu bug #424371 - Logins to OpenSSH server slow due to "UseDNS yes" config' href="https://bugs.launchpad.net/ubuntu/+source/openssh/+bug/424371">bug</a> for Ubuntu (but it's not a bug, it's a <a title="Jargon file: Feature" href="http://www.catb.org/~esr/jargon/html/F/feature.html">feature</a>).</p>
<br>

<p>
In a nutshell: if you want to remove this delay and don't care about doing reverse lookups, set <strong>UseDNS no</strong> in <strong>/etc/ssh/sshd_config</strong> and then restart the daemon. The FAQ explains it better than me.</p>
        </div>
                <ul class="pager">
            <li class="previous">
                <a href="../../03/10/ms-windows-focus-follows-mouse-registry-hacks.html" rel="prev" title="MS-Windows focus-follows-mouse Registry hacks">Previous post</a>
            </li>
            <li class="next">
                <a href="../../05/07/kde-konsoles-title-bar-and-prompt.html" rel="next" title="KDE Konsole's title bar and prompt">Next post</a>
            </li>
        </ul>

                    <script src="https://apis.google.com/js/plusone.js"></script>
<div class="g-comments" data-href="http://milosophical.me/blog/2010/04/07/openssh-slow-logins-and-dns.html" data-first_party_property="BLOGGER" data-view_type="FILTERED_POSTMOD">
</div>


    </div>
                    <footer id="footer" role="contentinfo">
            <p></p>
<hr>Contents Copyright © 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a> 2005 — 2016         <a href="mailto:sinewalker@gmail.com">Mike Lockhart</a>. Powered by <a href="http://getnikola.com" rel="nofollow">Nikola</a> with <a href="https://github.com/getnikola/nikola-themes/tree/master/v7/zen-ipython">Zen-IPython</a> theme.
            
        </footer>

        </div>
    </section>
    <script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-65364237-1', 'auto');  ga('send', 'pageview');</script>
    
                <script src="../../../../assets/js/jquery-1.10.2.min.js" type="text/javascript"></script>
            <script src="../../../../assets/js/jquery.timeago.js" type="text/javascript"></script>
        <script src="../../../../assets/js/mathjax.js" type="text/javascript"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


        <script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
