<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<base href="http://milosophical.me/blog/2010/03/10/ms-windows-focus-follows-mouse-registry-hacks.html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>MS-Windows focus-follows-mouse Registry hacks | Milosophical Me</title>
<link href="../../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta content="#5670d4" name="theme-color">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../../../rss.xml">
<link rel="canonical" href="http://milosophical.me/blog/2010/03/10/ms-windows-focus-follows-mouse-registry-hacks.html">
<!--[if lt IE 9]><script src="../../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Michael Lockhart">
<link rel="prev" href="../../../2009/05/12/registering-local-dtds-or-xml-schemas-with-netbeans.html" title="Registering local DTDs or XML schemas with NetBeans" type="text/html">
<link rel="next" href="../../04/07/openssh-slow-logins-and-dns.html" title="OpenSSH slow logins and DNS" type="text/html">
<meta property="og:site_name" content="Milosophical Me">
<meta property="og:title" content="MS-Windows focus-follows-mouse Registry hacks">
<meta property="og:url" content="http://milosophical.me/blog/2010/03/10/ms-windows-focus-follows-mouse-registry-hacks.html">
<meta property="og:description" content="I like the &quot;focus follows mouse&quot; window-focussing model from X11, because

	I don't have to click on the window, just move the mouse and the window it's over is focussed
	I can focus a window without ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2010-03-10T14:42:26+11:00">
<meta property="article:tag" content="desktop">
<meta property="article:tag" content="geek">
<meta property="article:tag" content="hacking">
<meta property="article:tag" content="how-to">
<meta property="article:tag" content="tip">
<meta property="article:tag" content="useability">
<meta property="article:tag" content="windows">
<meta property="article:tag" content="x11">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://milosophical.me/">

                <span id="blog-title">Milosophical Me</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../../index.html">Blog</a>
                </li>
<li>
<a href="../../../../archive/archive.html">Archive</a>
                </li>
<li>
<a href="../../../../tags/index.html">Tags</a>
                </li>
<li>
<a href="../../../../pg/index.html">Codex</a>
                </li>
<li>
<a href="../../../../pixels/index.html">Pixels</a>
            </li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Social <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://plus.google.com/+MichaelLockhart/posts">Microblog</a>
                    </li>
<li>
<a href="https://www.facebook.com/sinewalker">Facebook</a>
                    </li>
<li>
<a href="mailto:sinewalker@gmail.com">Email</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://github.com/sinewalker">GitHub</a>
                    </li>
<li>
<a href="https://bitbucket.com/sinewalker">Bitbucket</a>
                    </li>
<li>
<a href="https://codepen.io/sinewalker/">Codepen</a>
                    </li>
<li class="active">
<a href="#"> <span class="sr-only">(active)</span></a>
                    </li>
<li>
<a href="https://sourceforge.net/u/sinewalker/profile/">SourceForge</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://about.me/mikelockhart">About.me</a>
                    </li>
<li>
<a href="http://milosophical.me/pg/colophon.html">About this site</a>
                    </li>
<li>
<a href="https://calendar.google.com/calendar/embed?src=sinewalker@gmail.com&amp;ctz=Australia/Sydney/">My calendar</a>
                    </li>
<li>
<a href="https://www.linkedin.com/in/mikelockhart">LinkedIn</a>
                    </li>
<li>
<a href="http://stackoverflow.com/users/776953/mike">Stack Overflow</a>
            </li>
</ul>
</li>
<li>
<a href="../../../../rss.xml">RSS</a>

                
            </li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form navbar-right" role="search">
<input type="hidden" name="sites" value="http://milosophical.me/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="form-control"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="ms-windows-focus-follows-mouse-registry-hacks.wp" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">MS-Windows focus-follows-mouse Registry hacks</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">
                    <a href="../../../../authors/michael-lockhart.html">Michael Lockhart</a>
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2010-03-10T14:42:26+11:00" itemprop="datePublished" title="2010-03-10 14:42">2010-03-10 14:42</time></a></p>
                <p class="commentline">
        
</p>
<div class="g-commentcount" data-href="/blog/2010/03/10/ms-windows-focus-follows-mouse-registry-hacks.html"></div>
<script src="https://apis.google.com/js/plusone.js"></script><p class="sourceline"><a href="ms-windows-focus-follows-mouse-registry-hacks.wp" id="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <p>I like the "focus follows mouse" window-focussing model from X11, because
</p>
<ul>
<li>I don't have to click on the window, just move the mouse and the window it's over is focussed</li>
	<li>I can focus a window <em>without</em> bringing it to the front, which is sometimes handy. If I want it in front, I can click it.</li>
</ul>
<br><p>
However MS-Windows follows the old-fashioned, Macintosh/Smalltalk style of having users click on a window to focus it for the keyboard. How do you make MS-Windows behave more like X11?
</p>


<!-- TEASER_END -->
<br><p>I used to install <strong>TweakUI </strong>from Microsoft, just so that I could turn on an X11-like focus-follows-mouse mode, but Microsoft don't make TweakUI for Vista (there is <strong>TweakVI </strong>instead, if you want to Google for it. It's by some other company. It's not bad, but overkill for what I want to do).
</p>
<br><p>
In Vista, Microsoft added a GUI for this mode that's <em>almost</em> what I want. You can do this:
</p>
<br><p>
Open Control Panel (new view, not Classic)</p>
<br><p style="padding-left:30px;">&gt; Ease of Access Center</p>
<br><p style="padding-left:60px;">&gt; Make the mouse easier to use</p>
<br><p style="padding-left:90px;">&gt; [ ] Activate a window by hovering over it with the mouse</p>
<br><p>
But this also brings the window to the front when it's focussed.  If that's what you want, then you're done. If you're like me and you want the window under the mouse to have keyboard focus, but you <em>don't</em> want it brought to the front without clicking on it, you'll need to hack the Windows Registry. Here are some steps, which should be good for any release of Windows that is based on Windows NT (NT, 2000, XP, Vista, Win7):
</p>
<br><ol>
<li>Run <strong>regedit </strong>(Win+R, regedit, OK)</li>
	<li>Open up the key <strong>HKEY_CURRENT_USER\Control Panel\Mouse</strong>
</li>
	<li>Change the value of the REG_DWORD <strong>ActiveWindowTracking</strong> to <code>0x0000001 (1)</code>
</li>
	<li>Open up the key <strong>HKEY_CURRENT_USER\Control Panel\Desktop</strong>
</li>
	<li>
<strong>Logical OR</strong> the first byte of the REG_BINARY <strong>UserPreferencesMask</strong> with <strong>0</strong><strong></strong><strong>1</strong>.  That is, if the current value is <code>df 3e 03 80 12 00 00 00</code>, then leave the '<code>df</code>' alone. If it's <code>9<strong><em>e</em></strong> 03 07 80 12 00 00 00</code> , change it to <code>9<strong><em>f</em> </strong>.. ..</code>  and so on <strong style="color:#7744ee;">*</strong>
</li>
	<li>To make the focus a little slower, so that pop-up windows are useable, you also want to change the focus timing. Change the REG_DWORD <strong>ActiveWindTrkTimeout</strong> (also in HKEY_CURRENT_USER\Control Panel\Desktop) to the number of milliseconds to wait before focus shifts to the window under the mouse.  I like a value of <code>0x00000080</code> (128ms). You might like 200ms (<code>c8</code>), or some faster or slower value.</li>
</ol>
<br><p>
<strong style="color:#7744ee;">*</strong> If you can't do this hexadecimal bit twiddling math in your head (difficult if you're not a programmer), then Windows' Calc can do it for you: put it in Programmer and Hex modes, type the first byte (hex pair e.g. 9e), press the 'Or' button, then '1' and the '=' button.  If the number changes, that's what you replace the first byte with. Thanks to Erik in the comments below, I've finally figured this out and (I hope) clarified what to do..
</p>
<br><p>
So, in summary, the Registry keys are as follows for X11-like window focus:
</p>
<pre>HKEY_CURRENT_USERS\Control Panel\Mouse
  REG_DWORD ActiveWindowTracking = 0x00000001  (1)
HKEY_CURRENT_USERS\Control Panel\Desktop
  REG_DWORD ActiveWindTrkTimeout = 0x00000080  (128)
  REG_BINARY UserPreferencesMask OR= 01 .. .. .. .. .. .. .. ..</pre>
<br><p>
These registry hacks require a reboot to take effect.</p>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../../../tags/desktop.html" rel="tag">desktop</a></li>
            <li><a class="tag p-category" href="../../../../tags/geek.html" rel="tag">geek</a></li>
            <li><a class="tag p-category" href="../../../../tags/hacking.html" rel="tag">hacking</a></li>
            <li><a class="tag p-category" href="../../../../tags/how-to.html" rel="tag">how-to</a></li>
            <li><a class="tag p-category" href="../../../../tags/tip.html" rel="tag">tip</a></li>
            <li><a class="tag p-category" href="../../../../tags/useability.html" rel="tag">useability</a></li>
            <li><a class="tag p-category" href="../../../../tags/windows.html" rel="tag">windows</a></li>
            <li><a class="tag p-category" href="../../../../tags/x11.html" rel="tag">x11</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../../../2009/05/12/registering-local-dtds-or-xml-schemas-with-netbeans.html" rel="prev" title="Registering local DTDs or XML schemas with NetBeans">Previous post</a>
            </li>
            <li class="next">
                <a href="../../04/07/openssh-slow-logins-and-dns.html" rel="next" title="OpenSSH slow logins and DNS">Next post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
<script src="https://apis.google.com/js/plusone.js"></script><div class="g-comments" data-href="http://milosophical.me/blog/2010/03/10/ms-windows-focus-follows-mouse-registry-hacks.html" data-first_party_property="BLOGGER" data-view_type="FILTERED_POSTMOD">
</div>


        </section></article>
</div>
        <!--End of body content-->

        <footer id="footer"><hr>Contents Copyright © 
<a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a> 2005 — 2016         <a href="mailto:sinewalker@gmail.com">Michael Lockhart</a>. Powered by <a href="https://getnikola.com" rel="nofollow">Nikola</a>, <a href="https://github.com/syl20bnr/spacemacs"><img src="https://cdn.rawgit.com/syl20bnr/spacemacs/442d025779da2f62fc86c2082703697714db6514/assets/spacemacs-badge.svg" alt="built with Spacemacs"></a>
            
        </footer>
</div>
</div>


            <script src="../../../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates --><script>  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');  ga('create', 'UA-65364237-1', 'auto');  ga('send', 'pageview');</script>
</body>
</html>
