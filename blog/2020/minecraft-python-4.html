<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="en">
<head>
<meta charset="utf-8">
<meta name="description" content="Making sure your Python 3 environment works with Minecraft.">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Minecrafting in Python 3 | Milosophical Me</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#e37f2a;">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../../rss.xml">
<link rel="canonical" href="http://milosophical.me/blog/2020/minecraft-python-4.html">
<!--[if lt IE 9]><script src="../../assets/js/html5.js"></script><![endif]--><meta name="author" content="Michael Lockhart">
<link rel="prev" href="../2019/helloeen.html" title="Hello e'en in Australia" type="text/html">
<link rel="next" href="disruptor.html" title="Disruptor! What's going on?!" type="text/html">
<meta property="og:site_name" content="Milosophical Me">
<meta property="og:title" content="Minecrafting in Python 3">
<meta property="og:url" content="http://milosophical.me/blog/2020/minecraft-python-4.html">
<meta property="og:description" content="Making sure your Python 3 environment works with Minecraft.">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2020-03-09T07:01:35+11:00">
<meta property="article:tag" content="minecraft">
<meta property="article:tag" content="python">
<meta property="article:tag" content="RaspberryJam">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://milosophical.me/">

                <span id="blog-title">Milosophical Me</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" role="navigation" aria-expanded="false">
            <ul class="nav navbar-nav">
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Navigate <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../index.html">Blog</a>
                    </li>
<li>
<a href="../../archive/archive.html">Archive</a>
                    </li>
<li>
<a href="../../tags/index.html">Tags</a>
                    </li>
<li>
<a href="../../pg/index.html">Codex</a>
                    </li>
<li>
<a href="../../pixels/index.html">Pixels</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Social <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://gist.github.com/sinewalker">Gists - Microblog</a>
                    </li>
<li>
<a href="https://www.twitter.com/milo_hax">Tweets - Nanoblog</a>
                    </li>
<li>
<a href="https://www.facebook.com/sinewalker">Facebook - Necessary Evil</a>
                    </li>
<li>
<a href="mailto:sinewalker@gmail.com">Email - So 20th Century</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Code <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://github.com/sinewalker">GitHub</a>
                    </li>
<li>
<a href="https://gist.github.com/sinewalker">Gists</a>
                    </li>
<li>
<a href="https://bitbucket.com/sinewalker">Bitbucket</a>
                    </li>
<li>
<a href="https://codepen.io/sinewalker/">Codepen</a>
                    </li>
<li class="active">
<a href="#"> <span class="sr-only">(active)</span></a>
                    </li>
<li>
<a href="https://gitlab.com/sinewalker">GitLab</a>
                    </li>
<li>
<a href="https://sourceforge.net/u/sinewalker/profile/">SourceForge</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Jargon <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="../../jargon/index.html">Main page</a>
                    </li>
<li>
<a href="../../jargon/html/index.html">Table of Content</a>
                    </li>
<li>
<a href="../../jargon/html/lexicon.html">Lexicon</a>
                    </li>
<li>
<a href="../../jargon/html/go01.html">Glossary</a>
                    </li>
<li>
<a href="../../jargon/html/appendixa.html">Folklore</a>
            </li>
</ul>
</li>
<li class="dropdown">
<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">About <b class="caret"></b></a>
            <ul class="dropdown-menu">
<li>
<a href="https://about.me/mikelockhart">About.me</a>
                    </li>
<li>
<a href="https://milohax.net">Milohax.net</a>
                    </li>
<li>
<a href="https://www.linkedin.com/in/mikelockhart">LinkedIn</a>
                    </li>
<li>
<a href="http://stackoverflow.com/users/776953/mike">Stack Overflow</a>
                    </li>
<li class="active">
<a href="#"> <span class="sr-only">(active)</span></a>
                    </li>
<li>
<a href="../../pg/colophon.html">About this site</a>
                    </li>
<li>
<a href="../../rss.xml">Rich Site Summary (RSS)</a>
                    </li>
<li>
<a href="https://github.com/sinewalker/sinewalker.github.io/wiki">Meta-Wiki</a>
                    </li>
<li>
<a href="https://github.com/sinewalker/sinewalker.github.io/issues">Issues log</a>
            </li>
</ul>
</li>
</ul>
<!-- DuckDuckGo custom search --><form method="get" id="search" action="https://duckduckgo.com/" class="navbar-form navbar-right" role="search">
<input type="hidden" name="sites" value="http://milosophical.me/"><input type="hidden" name="k8" value="#444444"><input type="hidden" name="k9" value="#D51920"><input type="hidden" name="kt" value="h"><input type="text" name="q" maxlength="255" placeholder="Search…" class="form-control"><input type="submit" value="DuckDuckGo Search" style="visibility: hidden;">
</form>
<!-- End of custom search -->


            <ul class="nav navbar-nav navbar-right">
<li>
    <a href="minecraft-python-4.md" id="sourcelink">Source</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="#" class="u-url">Minecrafting in Python 3</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    <a href="../../authors/michael-lockhart.html">Michael Lockhart</a>
            </span></p>
            <p class="dateline"><a href="#" rel="bookmark"><time class="published dt-published" datetime="2020-03-09T07:01:35+11:00" itemprop="datePublished" title="2020-03-09 07:01">2020-03-09 07:01</time></a></p>
            
        <p class="sourceline"><a href="minecraft-python-4.md" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p>I've <a href="../2018/minecraft-python-2.html">already blogged about Python 3 and
Minecraft</a>, but there are some subtle things
which I glossed over in that post.  I found when following my own notes that
some of the steps are easy to skim over. I could explain a bit better what is
going on, and why I was seeing weird errors when I resurrected my environment to
work on an experiment with my kids.</p>
<!-- TEASER_END -->

<hr>
<h2>Installing Raspberry Jam Mod for Minecraft and Python 3</h2>
<p>I deferred to the <a href="http://www.instructables.com/id/Python-coding-for-Minecraft/">instructions by the Module
author</a> in my
earlier post, and augmented those with the <a href="https://ngcm.github.io/PythonTool-Mod/userguide/">PythonTools
instructions</a>.  These are
<em>correct</em> and they work if you follow them, but in my own setup on a work
computer, they need tweaking a little, and that requires understanding what's
actually going on. Here are the main points:</p>
<h3>1. Use the newest Minecraft version supported by your modules.</h3>
<p>The maximum Minecraft version that <em>PythonTool</em> supporst is  <strong>Minecraft
1.10.2</strong>. If using just <em>Raspberry Jam Mod</em>, then it is <strong>Minecraft 1.12.2</strong>.</p>
<p>Anything newer <em>may</em> work, but it won't support the newer Minecraft features,
such as all the block types in <em>Acquatic</em> (1.13).</p>
<p>The Minecraft Launcher lets you create <em>Installations</em> and use older Minecraft
releases. May as well stick with what's supported by these modules.</p>
<h3>2. Use a separate Game Directory</h3>
<p>When creating a new Installation, specify a separate Game directory. There are
two benefits:</p>
<ol>
<li>Worlds won't get corrupted by running them with different Minecraft versions</li>
<li>You can install incompatible Forge Modules in separate Installations to
    prevent issues with your Dalek mod not liking some other mod</li>
</ol>
<p>Create the new Installation, install a <a href="http://files.minecraftforge.net/maven/net/minecraftforge/forge/index_1.12.2.html">matching version of
Forge</a>
for Minecraft 1.12.2 (or for
<a href="http://files.minecraftforge.net/maven/net/minecraftforge/forge/index_1.12.2.html">1.10.2</a>)
and then run the game once to set up the directories you need. You can make a
World now too, if you want to.</p>
<h3>3. The Raspberry Jam <code>mods.zip</code> goes it the Game Directory</h3>
<p>Once I had a Game Directory, I unziped <code>mods.zip</code> from <a href="https://github.com/arpruss/raspberryjammod/releases">Raspberry Jam
Mod</a> into the <code>/mods</code> sub
directory. This provides the Java classes to implement the Minecraft side of the
Minecraft Pi API.</p>
<h3>4. The <code>mcpypi</code> Python Library goes in the Game Directory too</h3>
<p>The MCPI library must be located in <code>/mcpypi/mcpi</code> in the Game Directory so that
the <code>/py</code> and <code>/lpy</code> Talk Commands can find it, to work in-game. For
<em>PythonTool</em> you can change it's options for the Command Block, <a href="../2018/minecraft-python-2.html">as I described
before</a>.</p>
<p><em>But here's the kicker</em>: <strong>you must use the version of the mcpi code that
ARPruss converted to Python 3</strong>. Python 2 mcpi code from <em>Stuff About Code</em>
won't load properly with Python 3.  When I tried, I got his error:</p>
<pre class="code literal-block"><span></span><span class="n">ModuleNotFoundError</span><span class="p">:</span> <span class="n">No</span> <span class="k">module</span> <span class="nn">named</span> <span class="n">mcpi</span>
</pre>


<p>At first I thought it was an issue with my Python environment, and I made some changes to force <code>mcpi</code> into my Python Path. This turned out to be not the case: this is a symptom that the moule isn't initialising properly (this was changed between Python 2 and Python 3). Even after I fixed that, the module imports, but I instead see this error:</p>
<pre class="code literal-block"><span></span><span class="n">NameError</span><span class="o">:</span> <span class="n">name</span> <span class="s1">'basestring'</span> <span class="k">is</span> <span class="n">not</span> <span class="n">defined</span>
</pre>


<p>Which indicates that the code is broken in Python 3 and it'll need a lot of work
to get going.</p>
<p>Fortunately, the code that comes in <code>python-scripts.zip</code> from <a href="https://github.com/arpruss/raspberryjammod/releases">Raspberry Jam
Mod</a> already has these
fixes, so just use the more modern code.  I <a href="https://github.com/sinewalker/raspberryjammod">forked ARPruss's
module</a> to be sure I know which
one to get in future.</p>
<h3>5. Configure Raspberry Jam Mod to use Python 3</h3>
<p>By default, the Module will use the system Python, which is likely to be Python
2.7 still. This <em>works</em> (because ARPruss is awesome and made his version of the
code work for <em>both Pythons</em>), but it will be less confusing to use 3, also
since Python 2 is now end-of-life at last, it is better to stop relying on it.</p>
<p>I changed the Module's Options to specify the executable for Python 3:</p>
<p><strong><em>Main Menu</em> -&gt; Mods -&gt; Raspberry Jam Mod -&gt; Python Interpreter</strong></p>
<p><img alt="Minecraft mods -&gt; Raspberry Jam Mod -&gt; Python Interpreter" src="../../pixels/minecraft/raspberryjammod-options.png"></p>
<p>(I could also edit <code>$MCPROFILE/config/raspberryjammod.cfg</code>):</p>
<pre class="code literal-block"><span></span>    <span class="o">#</span> <span class="n">Python</span> <span class="n">interpreter</span> <span class="p">[</span><span class="k">default</span><span class="p">:</span> <span class="n">python</span><span class="p">]</span>
    <span class="n">S</span><span class="p">:</span><span class="ss">"Python Interpreter"</span><span class="o">=</span><span class="n">python3</span>
</pre>


<p>This assumes that the <code>python3</code> command will work, which it does for me, at
least for now. I may need to set up Python 3 to "just work" on other operating
systems, or put the full path to a python3 executable as the <code>Python
Interpreter</code> Option value.</p>
<h3>6. Install Raspberry Jam Mod from PyPI into your Virtual Environment</h3>
<pre class="code literal-block"><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">raspberryjammod</span>
</pre>


<p>This makes the <code>mcpi</code> module available to code in whichever Python environment
used to do Minecraft hacking. I don't <em>need</em> to copy the mcpi from
<code>python-scripts.zip</code> into my own code after doing this. I am now also sure
that I'm using the <em>right python</em> code for Python 3.</p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../tags/minecraft.html" rel="tag">minecraft</a></li>
            <li><a class="tag p-category" href="../../tags/python.html" rel="tag">python</a></li>
            <li><a class="tag p-category" href="../../tags/raspberryjam.html" rel="tag">RaspberryJam</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../2019/helloeen.html" rel="prev" title="Hello e'en in Australia">Previous post</a>
            </li>
            <li class="next">
                <a href="disruptor.html" rel="next" title="Disruptor! What's going on?!">Next post</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer"><hr>Contents Copyright © 
<a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">
<img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png"></a>
 2005 — 2020         <a href="mailto:sinewalker@gmail.com">Michael Lockhart</a>. Powered by <a href="https://getnikola.com" rel="nofollow"><img src="../../img/nikola.png" alt="Nikola"></a>, <a href="https://github.com/syl20bnr/spacemacs"><img src="https://cdn.rawgit.com/syl20bnr/spacemacs/442d025779da2f62fc86c2082703697714db6514/assets/spacemacs-badge.svg" alt="built with Spacemacs"></a>

            
        </footer>
</div>
</div>


            <script src="../../assets/js/all-nocdn.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("en");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
